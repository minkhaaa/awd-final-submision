{% extends "base.html" %} {% load widget_tweaks %} {% block title %}Skill Hive - Main Page{% endblock %}
{% block content %}

<div class="max-w-md mx-auto mt-12 bg-white p-8 rounded-lg shadow-md">
  <h2 class="text-3xl font-bold mb-6 text-center">Create Your Account</h2>
  <form method="post" hx-boost="false">
    {% csrf_token %}
<div class="mb-4">
  {{ form.email.label_tag }}
  <input
    type="email"
    name="email"
    class="w-full border border-gray-300 rounded-lg px-3 py-2"
    placeholder="Email"
    required
    hx-boost="true"
    hx-get="{% url 'check_field' 'email' %}"
    hx-trigger="change, keyup delay:200ms"
    hx-target="next .errors"
    hx-swap="outerHTML transition:true"
  />
  {% include 'accounts/error_messages.html' with messages=form.email.errors %}
</div>

<div class="mb-4">
  {{ form.username.label_tag }}
  <input
    type="text"
    name="username"
    class="w-full border border-gray-300 rounded-lg px-3 py-2"
    placeholder="Username"
    required
    hx-boost="true"
    hx-get="{% url 'check_field' 'username' %}"
    hx-trigger="change, keyup delay:200ms"
    hx-target="next .errors"
    hx-swap="outerHTML transition:true"
  />
  {% include 'accounts/error_messages.html' with messages=form.username.errors %}
</div>

<div class="mb-4">
  {{ form.password1.label_tag }}
  <input
    type="password"
    name="password1"
    class="w-full border border-gray-300 rounded-lg px-3 py-2"
    placeholder="Password"
    required
    hx-boost="true"
    hx-get="{% url 'check_field' 'password1' %}"
    hx-trigger="change, keyup delay:200ms"
    hx-target="next .errors"
    hx-swap="outerHTML transition:true"
  />
  {% include 'accounts/error_messages.html' with messages=form.password1.errors %}
</div>

<div class="mb-6">
  {{ form.password2.label_tag }}
  <input
    type="password"
    name="password2"
    class="w-full border border-gray-300 rounded-lg px-3 py-2"
    placeholder="Confirm Password"
    required
    hx-boost="true"
    hx-get="{% url 'check_field' 'password2' %}"
    hx-trigger="change, keyup delay:200ms"
    hx-target="next .errors"
    hx-swap="outerHTML transition:true"
  />
  {% include 'accounts/error_messages.html' with messages=form.password2.errors %}
</div>
    <button
      type="submit"
      class="w-full bg-blue-500 text-white py-2 px-4 rounded-lg font-semibold"
    >
      Sign Up
    </button>
  </form>
  <div class="mt-6 text-center">
    <p class="text-gray-600">Already have an account?</p>
    <a href="{% url 'sign_in' %}" class="text-blue-500 hover:underline">Sign In</a>
  </div>
</div>
{% endblock %}
